def write_cfg_steady_incompressible_file(conditions, CFD_settings):
    f = open('config_CFD.cfg', 'w')
    f.write("SOLVER= INC_RANS \n")
    f.write('KIND_TURB_MODEL= ' + CFD_settings.Solver + '\n')
    f.write('KIND_TRANS_MODEL= ' + CFD_settings.Trans + '\n')
    f.write('FREESTREAM_TURBULENCEINTENSITY = ' + str(conditions.TurbulenceIntensity) + '\n')
    f.write("MATH_PROBLEM= DIRECT \n")
    f.write('RESTART_SOL= NO \n')
    f.write('INC_DENSITY_INIT= ' + str(conditions.rho) + '\n')
    f.write('INC_VELOCITY_INIT= ( ' + str(conditions.vel * np.cos(np.deg2rad(conditions.aoa))) + ', ' + str(
        conditions.vel * np.sin(np.deg2rad(conditions.aoa))) + ', 0.0 ) \n')
    f.write("INC_NONDIM= INITIAL_VALUES \n")
    f.write("INC_DENSITY_REF= 1.0 \n")
    f.write("INC_VELOCITY_REF= 1.0 \n")
    f.write("INC_TEMPERATURE_REF = 1.0 \n")
    f.write("VISCOSITY_MODEL= CONSTANT_VISCOSITY \n")
    f.write('MU_CONSTANT= ' + str(conditions.mu) + '\n')
    if CFD_settings.mesh == 'gmsh':
        f.write("REF_ORIGIN_MOMENT_X = -0.25 \n")
    elif CFD_settings.mesh == 'construct2d':
        f.write("REF_ORIGIN_MOMENT_X = 0.25 \n")
    f.write("REF_ORIGIN_MOMENT_Y = 0.00 \n")
    f.write("REF_ORIGIN_MOMENT_Z = 0.00 \n")
    f.write("REF_LENGTH= " + str(conditions.chord) + " \n")
    f.write('REF_AREA= ' + str(conditions.chord) + '\n')
    f.write("MARKER_HEATFLUX= ( airfoil, 0.0 ) \n")
    f.write("MARKER_FAR= ( farfield ) \n")
    f.write("MARKER_PLOTTING= ( airfoil ) \n")
    f.write("MARKER_MONITORING= ( airfoil ) \n")
    f.write("NUM_METHOD_GRAD= GREEN_GAUSS \n")
    f.write("CFL_NUMBER= 25.0 \n")
    f.write("CFL_ADAPT= NO \n")
    f.write("CFL_ADAPT_PARAM= ( 0.1, 1.2, 25.0, 1e3 ) \n")
    f.write("MAX_DELTA_TIME= 1E6 \n")
    f.write("RK_ALPHA_COEFF= ( 0.66667, 0.66667, 1.000000 ) \n")
    f.write('ITER= ' + str(CFD_settings.Iterations) + '\n')
    f.write("VENKAT_LIMITER_COEFF= 0.05 \n")
    f.write("ADJ_SHARP_LIMITER_COEFF= 3.0 \n")
    f.write("REF_SHARP_EDGES= 3.0 \n")
    f.write("SENS_REMOVE_SHARP= NO \n")
    f.write("LINEAR_SOLVER= FGMRES \n")
    f.write("LINEAR_SOLVER_PREC= ILU \n")
    f.write("LINEAR_SOLVER_ILU_FILL_IN= 0 \n")
    f.write("LINEAR_SOLVER_ERROR= 1E-10 \n")
    f.write("LINEAR_SOLVER_ITER= 10 \n")
    f.write("MGLEVEL= 0 \n")
    f.write("MGCYCLE= V_CYCLE \n")
    f.write("MG_PRE_SMOOTH= ( 1, 1, 1, 1 ) \n")
    f.write("MG_POST_SMOOTH= ( 0, 0, 0, 0 ) \n")
    f.write("MG_CORRECTION_SMOOTH= ( 0, 0, 0, 0 ) \n")
    f.write("MG_DAMP_RESTRICTION= 0.8 \n")
    f.write("MG_DAMP_PROLONGATION= 0.8 \n")
    f.write("CONV_NUM_METHOD_FLOW= FDS \n")
    f.write("MUSCL_FLOW= YES \n")
    f.write("SLOPE_LIMITER_FLOW= NONE \n")
    f.write("JST_SENSOR_COEFF= ( 0.0, 0.02 ) \n")
    f.write("TIME_DISCRE_FLOW= EULER_IMPLICIT \n")
    f.write("CONV_NUM_METHOD_TURB= SCALAR_UPWIND \n")
    f.write("MUSCL_TURB= NO \n")
    f.write("SLOPE_LIMITER_TURB= VENKATAKRISHNAN \n")
    f.write("TIME_DISCRE_TURB= EULER_IMPLICIT \n")
    f.write("CONV_FIELD= RMS_PRESSURE \n")
    f.write('CONV_RESIDUAL_MINVAL= ' + str(CFD_settings.residualControl) + '\n')
    f.write("CONV_STARTITER= 10 \n")
    f.write("CONV_CAUCHY_ELEMS= 100 \n")
    f.write("CONV_CAUCHY_EPS= 1E-6 \n")
    f.write('MESH_FILENAME= ' + conditions.airfoil + '.su2 \n')
    f.write("MESH_FORMAT= SU2 \n")
    f.write("MESH_OUT_FILENAME= mesh_out.su2 \n")
    f.write("SOLUTION_FILENAME= solution_flow.dat \n")
    f.write("SOLUTION_ADJ_FILENAME= solution_adj.dat \n")
    f.write("TABULAR_FORMAT= CSV \n")
    f.write("CONV_FILENAME= history \n")
    f.write("RESTART_FILENAME= restart_flow.dat \n")
    f.write("RESTART_ADJ_FILENAME= restart_adj.dat \n")
    f.write("VOLUME_FILENAME= flow \n")
    f.write("VOLUME_ADJ_FILENAME= adjoint \n")
    f.write("GRAD_OBJFUNC_FILENAME= of_grad.dat \n")
    f.write("SURFACE_FILENAME= surface_flow \n")
    f.write("SURFACE_ADJ_FILENAME= surface_adjoint \n")
    f.write("SCREEN_OUTPUT = (INNER_ITER, WALL_TIME, RMS_PRESSURE, RMS_NU_TILDE, LIFT, DRAG) \n")
    f.write("HISTORY_OUTPUT= (ITER, AERO_COEFF, RMS_RES) \n")
    f.close()


def write_cfg_steady_compressible_file(conditions, CFD_settings):
    f = open('config_CFD.cfg', 'w')
    f.write('SOLVER = RANS\n')
    f.write('KIND_TURB_MODEL= ' + CFD_settings.Solver + '\n')  # None, SA, SA_NEG, SST
    f.write('KIND_TRANS_MODEL = ' + CFD_settings.Trans + '\n')  #None, BC (only with SA)
    f.write('MATH_PROBLEM = DIRECT\n')
    f.write('FREESTREAM_TURBULENCEINTENSITY = ' + str(conditions.TurbulenceIntensity) + '\n')
    f.write('RESTART_SOL = NO\n')
    f.write('MACH_NUMBER = ' + str(conditions.mach) + '\n')
    f.write('AOA = ' + str(conditions.aoa) + '\n')
    f.write('SIDESLIP_ANGLE = 0.0\n')
    f.write('FREESTREAM_TEMPERATURE = ' + str(conditions.T) + '\n')
    f.write('REYNOLDS_NUMBER = ' + str(conditions.Re) + '\n')
    f.write('REYNOLDS_LENGTH = ' + str(conditions.chord) + '\n') ###
    if CFD_settings.mesh == 'gmsh':
        f.write("REF_ORIGIN_MOMENT_X = -0.25 \n")
    elif CFD_settings.mesh == 'construct2d':
        f.write("REF_ORIGIN_MOMENT_X = 0.25 \n")
    f.write('REF_ORIGIN_MOMENT_Y = 0.0\n')
    f.write('REF_ORIGIN_MOMENT_Z = 0.0\n')
    f.write('REF_LENGTH = ' + str(conditions.chord) + '\n') ###
    f.write('REF_AREA = ' + str(conditions.chord) + '\n')
    f.write('MARKER_HEATFLUX = ( airfoil, 0.0 )\n')
    f.write('MARKER_INLET = (NONE)\n')
    f.write('MARKER_OUTLET = (NONE)\n')
    f.write('MARKER_SYM = (NONE)\n')
    f.write('MARKER_FAR = ( farfield ) \n')
    f.write('MARKER_PLOTTING = (airfoil)\n')
    f.write('MARKER_MONITORING = (airfoil)\n')
    f.write('NUM_METHOD_GRAD = WEIGHTED_LEAST_SQUARES\n')
    f.write('CFL_NUMBER = 25.0\n')
    f.write('CFL_ADAPT = YES\n')
    f.write('CFL_ADAPT_PARAM = ( 0.1, 1.2, 25.0, 1e3 )\n')
    f.write('RK_ALPHA_COEFF = ( 0.66667, 0.66667, 1.00000 )\n')
    f.write('ITER = ' + str(CFD_settings.Iterations) + '\n')
    f.write('OBJECTIVE_FUNCTION = DRAG\n')
    f.write('VENKAT_LIMITER_COEFF = 0.05\n')
    f.write('ADJ_SHARP_LIMITER_COEFF = 3.0\n')
    f.write('REF_SHARP_EDGES = 3.0\n')
    f.write('SENS_REMOVE_SHARP = NO\n')
    f.write('MGLEVEL = ' + str(CFD_settings.multigrid) + '\n')
    f.write('MGCYCLE = V_CYCLE\n')
    f.write('MG_PRE_SMOOTH = (1, 2, 3, 3)\n')
    f.write('MG_POST_SMOOTH = (2, 2, 2, 2)\n')
    f.write('MG_DAMP_RESTRICTION = 0.8\n')
    f.write('MG_DAMP_PROLONGATION = 0.8\n')
    f.write('CONV_NUM_METHOD_FLOW = JST\n') # JST, LAX-FRIEDRICH, CUSP, ROE,
    f.write('ENTROPY_FIX_COEFF = 0.001\n')
    f.write('MUSCL_FLOW = YES\n')
    f.write('SLOPE_LIMITER_FLOW = VENKATAKRISHNAN\n')
    f.write('JST_SENSOR_COEFF = ( 0.5, 0.02 )\n')
    f.write('TIME_DISCRE_FLOW = EULER_IMPLICIT\n')
    f.write('CONV_NUM_METHOD_TURB = SCALAR_UPWIND\n')
    f.write('MUSCL_TURB = NO\n')
    f.write('SLOPE_LIMITER_TURB = VENKATAKRISHNAN\n')
    f.write('TIME_DISCRE_TURB = EULER_IMPLICIT\n')
    f.write('CFL_REDUCTION_TURB = 1.0\n')
    f.write('CONV_CRITERIA = RESIDUAL\n')
    f.write('CONV_FIELD = RMS_DENSITY\n')  #RMS_PRESSURE, RMS_DENSITY
    f.write('CONV_RESIDUAL_MINVAL = ' + str(CFD_settings.residualControl) + '\n')
    f.write('CONV_STARTITER = 10\n')
    f.write('CONV_CAUCHY_ELEMS = 100\n')
    f.write('CONV_CAUCHY_EPS = 1E-6\n')
    f.write('MESH_FILENAME= ' + conditions.airfoil + '.su2 \n')
    f.write('MESH_FORMAT= SU2 \n')
    f.write('MESH_OUT_FILENAME = mesh_out.su2 \n')
    f.write('SOLUTION_FILENAME = solution_flow.dat \n')
    f.write('SOLUTION_ADJ_FILENAME = solution_adj.dat \n')
    f.write('TABULAR_FORMAT = CSV \n')
    f.write('CONV_FILENAME = history \n')
    f.write('RESTART_FILENAME = restart_flow.dat \n')
    f.write('RESTART_ADJ_FILENAME = restart_adj.dat \n')
    f.write('VOLUME_FILENAME = flow \n')
    f.write('VOLUME_ADJ_FILENAME = adjoint \n')
    f.write('GRAD_OBJFUNC_FILENAME = of_grad.dat \n')
    f.write("OUTPUT_WRT_FREQ= 10 \n")
    f.write('SURFACE_FILENAME = surface_flow \n')
    f.write('SURFACE_ADJ_FILENAME = surface_adjoint \n')
    f.write('SCREEN_OUTPUT = (INNER_ITER, WALL_TIME, RMS_NU_TILDE, RMS_DENSITY, LIFT, DRAG) \n')
    f.write('HISTORY_OUTPUT= (ITER, AERO_COEFF, RMS_RES) \n')
    f.close()
